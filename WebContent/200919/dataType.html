<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link href ="../css/public.css" rel="stylesheet">
		<script type="text/javascript" src="../js/jquery-3.5.1.min.js"></script>
		
		<script>
		$(function(){
			
			
			$('#text').on('click',function(){
				$.ajax({
					'url'	: 'text.jsp',
					'type'	: 'get',
					'success' : function(res){
						resText = res.split('/');
						
						res = "<ul>";
						$.each(resText,function(i){
							res+= "<li>" + resText[i] + "</li>"
						}) ;
						res += "</ul>";
						
						$('#result1').html(res);
					},
					'error' : function(req){
						alert("상태 :" +req.status)
					},
					'dataType' :'text'
				})
			})
			
			$('#jsonArray').on('click',function(){
				$.ajax({
					'url'	: 'jsonArr.jsp',
					'type'	: 'get',
					'success' : function(res){
						code = "<ol>";
						$.each(res,function(i){
							code += "<li>" + res[i] + "</li>";
						}) ;
						code += "</ol>";
						
						$('#result2').html(code);
					},
					'error' : function(req){
						alert("상태 :" +req.status)
					},
					'dataType' :'json'
				})
			})
			
			$('#jsonObject').on('click',function(){
				$.ajax({
					'url'	: 'jsonObj.jsp',
					'type'	: 'get',
					'success' : function(res){
						code = "이름 : " + res.name +"<br>"; 
						code += "나이 : " + res.age +"<br>"; 
						code += "주소 : " + res.address +"<br>"; 
						
						$('#result3').html(code);
					},
					'error' : function(req){
						alert("상태 :" +req.status)
					},
					'dataType' :'json'
				})
				
			})
			
			$('#jsonObjectArray').on('click',function(){
				$.ajax({
					'url'	: 'jsonObjArr.jsp',
					'type'	: 'get',
					'success' : function(res){
						
						result="";
						cnt=1;
						res.map((x)=>{
							result += cnt++ + "번째<br>";
							result += "이름 : " + x.name +"<br>"; 
							result += "나이 : " + x.age +"<br>"; 
							result += "주소 : " + x.address +"<br><br>"; 
						})
						
						
						$('#result4').html(result);
					},
					'error' : function(req){
						alert("상태 :" +req.status)
					},
					'dataType' :'json'
				})
				
				
				
			})
			
		})
		
		
		</script>
		<style>
		.box #result1, .box div{
			border: 2px dashed red;
			width : 500px;
			height : auto;
			padding : 20px;
			margin : 10px;
		}
		.box input[type=button]{
		font-size:16px;
		width:150px;
		}
		</style>
	</head>
	<body>
		<div class="box">
			<h3>타이틀</h3>
			<input type="button" id="text" value="text">
			<input type="button" id="jsonArray" value="jsonArray">
			<input type="button" id="jsonObject" value="jsonObject">
			<input type="button" id="jsonObjectArray" value="jsonObjectArray">
			<div id="result1"> </div>
			<div id="result2"> </div>
			<div id="result3"> </div>
			<div id="result4"> </div>
		</div>
		
		
	</body>
</html>