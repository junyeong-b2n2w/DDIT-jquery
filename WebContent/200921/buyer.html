<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link href ="../css/public.css" rel="stylesheet">
		<script type="text/javascript" src="../js/jquery-3.5.1.min.js"></script>
		
		<script>
			$(function(){
				$('input:button').on('click', function(){
					$.ajax({
						url : 'buyer.jsp',
						type : 'get',
						dataType : 'json',
						success : function(res){
							code= "";
							$.each(res, function(i,v){
								code+=  "<p id='"+ res[i].id +"'>"+ res[i].name + "</p>";
							})
						
							
							
							
							$('#names').html(code);
							
						},
						error : function(req){
							alert("상태 : " + req.status);
						}
					})
							
				})
				$(document).on('click','p',function(){
					
					
					
					
					$.ajax({
						url : 'buyerDetail.jsp',
						type : 'post',
						data:{ "id" : $(this).attr('id')},
						dataType : 'json',
						success : function(res){
							code = "<table>";
							code+= "<tr><td>BUYER_ID</td>";
							code+= "<td>"+res.id + "</td></tr>";
							
							code+= "<tr><td>BUYER_NAME</td>";
							code+= "<td>"+res.name + "</td></tr>";
						
							code+= "<tr><td>BUYER_LGU</td>";
							code+= "<td>"+res.lgu + "</td></tr>";
							
							code+= "<tr><td>BUYER_BANK</td>";
							code+= "<td>"+res.bank + "</td></tr>";
							
							code+= "<tr><td>BUYER_bankno</td>";
							code+= "<td>"+res.bankno + "</td></tr>";
							
							code+= "<tr><td>BUYER_bankname</td>";
							code+= "<td>"+res.bankname + "</td></tr>";
							
							code+= "<tr><td>BUYER_ZIP</td>";
							code+= "<td>"+res.zip + "</td></tr>";
							
							code+= "<tr><td>BUYER_ADDR</td>";
							code+= "<td>"+res.addr + "</td></tr>";
							
							code+= "<tr><td>BUYER_COMTEL</td>";
							code+= "<td>"+res.comtel + "</td></tr>";
							
							code+= "<tr><td>BUYER_FAX</td>";
							code+= "<td>"+res.fax + "</td></tr>";
							
							$('#detail').html(code);
							
						},
						error : function(req){
							alert("상태 : " + req.status);
						}
					
					
				})
			
				
			})
			
			
				
			})
			
			
			
		
		</script>
		<style>
			
			td{
				text-align:center;
			}
			#names{
				width:250px;
			}
			#detail{
				width:500px;
			}
			
		</style>
	</head>
	<body>
		<div class="box">
			<h3>타이틀</h3>
			<input type="button" value="확인">
			<div id="result1">
					<table border="1">
					<tr>
						<td>거래처이름 </td><td>거래처상세정보</td>
					</tr>
					<tr>
						<td id="names"></td><td id="detail"></td>
					</tr>
					</table> 
				</div>
		</div>
		
		
	</body>
</html>